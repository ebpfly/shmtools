%%javascript
console.log('=== Debugging Jupyter Toolbar ===');

// Find all possible toolbar elements
var allElements = document.querySelectorAll('*');
var toolbarCandidates = [];

// Look for elements that might be toolbars
['toolbar', 'header', 'menubar', 'nav', 'top'].forEach(function(keyword) {
    document.querySelectorAll(`[class*="${keyword}"], [id*="${keyword}"]`).forEach(function(el) {
        if (toolbarCandidates.indexOf(el) === -1) {
            toolbarCandidates.push(el);
        }
    });
});

console.log('Found potential toolbar elements:', toolbarCandidates.length);

toolbarCandidates.forEach(function(el, index) {
    console.log(`${index + 1}. ${el.tagName} - class: "${el.className}" - id: "${el.id}"`);
    console.log('   Text content preview:', el.textContent.substring(0, 100));
    console.log('   Position:', el.getBoundingClientRect());
    console.log('---');
});

// Also check for specific Jupyter elements
var jupyterElements = [
    '#maintoolbar',
    '.toolbar',
    '#notebook-container',
    '#header',
    '.header-bar',
    '#menubar-container',
    '#menus',
    '.jp-Toolbar',
    '.jp-NotebookPanel-toolbar'
];

console.log('\n=== Checking specific Jupyter selectors ===');
jupyterElements.forEach(function(selector) {
    var el = document.querySelector(selector);
    if (el) {
        console.log(`‚úÖ Found: ${selector}`);
        console.log('   Element:', el);
        console.log('   Visible:', el.offsetParent !== null);
        console.log('   Dimensions:', el.getBoundingClientRect());
    } else {
        console.log(`‚ùå Not found: ${selector}`);
    }
});

// Let's also try to create a simple test button anywhere we can
console.log('\n=== Creating test button ===');

// Try to add to the very top of the page
var testButton = document.createElement('div');
testButton.style.cssText = `
    position: fixed;
    top: 10px;
    right: 10px;
    background: red;
    color: white;
    padding: 10px;
    border-radius: 4px;
    z-index: 9999;
    cursor: pointer;
    font-family: Arial, sans-serif;
    font-size: 14px;
`;
testButton.textContent = 'üîß TEST SHM BUTTON';
testButton.onclick = function() {
    alert('SHM test button works! JavaScript can create UI elements.');
};

document.body.appendChild(testButton);

console.log('‚úÖ Red test button should appear in top-right corner');
console.log('üìã If you see it, click it to confirm JavaScript UI creation works');